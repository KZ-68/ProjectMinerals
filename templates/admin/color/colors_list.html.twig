{% extends 'base.html.twig' %}

{% block title %}Colors List{% endblock %}

{% block body %}
<div class="options">
    <a href="{{ path('app_admin_new_color') }}">Add a color</a>
</div>

<h1>Colors List</h1>
<hr>

<div class="list-main">
    <aside class="aside-wrapper">
        {% include "_partials/_admin_nav.html.twig"%}
    </aside>

    <div class="list-wrapper">
        <table>
            <thead>
              <tr>
                <th>Color Name</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
                {% for color in colors %}
              <tr>
                <td><a href="{{path('show_color', {'slug': color.slug})}}">{{color.name}}</a></td>
                <td>
                    <div class="actions">
                      <a class="edit-btn" href="{{ path('app_admin_edit_color', {'slug': color.slug}) }}" aria-label="Edit">Edit</a>
                      <form action="{{ path('app_admin_delete_color', {id: color.id}) }}" method="post">
                        <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ color.id) }}"/>
                        <button class="delete-btn">Delete</button>
                      </form>
                    </div>
                    
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>    
        <nav>
            {{knp_pagination_render(colors)}}
        </nav> 
    </div>
</div>

{% endblock %}